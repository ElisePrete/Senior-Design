{"ast":null,"code":"import Other from './OtherQandA/Other';\nimport MoreOptions from './MoreOptions/MoreOptions'; //Action provider contains all the 'functions' of the chatbot\n\nclass ActionProvider {\n  constructor(createChatBotMessage, setStateFunc\n  /*createClientMessage,\n  stateRef\n  createCustomMessage,\n  ...rest*/\n  ) {\n    this.addMessageToState = message => {\n      this.setState(prevState => ({ ...prevState,\n        messages: [...prevState.messages, message]\n      }));\n    };\n\n    this.handleInitialOptions = () => {\n      this.setState(state => ({ ...state,\n        howManyQs: 0,\n        OtherQuestion: \"\",\n        handleOther: false\n      }));\n      this.addMessageToState(this.createChatBotMessage(`What would you like to search next?`, {\n        widget: \"InitialOptions\"\n      }));\n    };\n\n    this.greet = () => {\n      const message = this.createChatBotMessage(\"Hello! :)\");\n      this.addMessageToState(message); //adds message to ui\n    };\n\n    this.handleConfusion = () => {\n      const message = this.createChatBotMessage(\"Sorry, i did not catch that. Could you rephrase?\");\n      this.addMessageToState(message); //adds message to ui\n    };\n\n    this.handleDocuments = () => {\n      const message = this.createChatBotMessage(\"docs not supported atm\");\n      this.addMessageToState(message); //adds message to ui\n    };\n\n    this.handleOtherSetup = () => {\n      this.setState(state => ({ ...state,\n        DocumentSearch: false,\n        OtherQuestion: \"\"\n      }));\n      const message = this.createChatBotMessage(\"Enter your question:\");\n      this.addMessageToState(message);\n    };\n\n    this.handleOther = (question, num) => {\n      //console.log(\"num:\", num)\n      var message = this.createChatBotMessage(\"Results found:\", {\n        widget: \"Other\"\n      });\n      this.addMessageToState(message); //if handleOther is being called from a widget‚ it means the 'see more results' button was chosen.\n\n      var otherWidget = \"MoreOptions\";\n\n      if (!num) {\n        num = 4;\n        otherWidget = \"MoreResults\";\n      }\n\n      this.setState(state => ({ ...state,\n        OtherOptions: true,\n        OtherQuestion: state.OtherQuestion + \" \" + question,\n        howManyQs: num\n      }));\n      message = this.createChatBotMessage(\"Have I answered your question?\", {\n        widget: otherWidget\n      });\n      this.addMessageToState(message);\n    };\n\n    this.createChatBotMessage = createChatBotMessage;\n    this.setState = setStateFunc;\n    /*this.createClientMessage = createClientMessage;\n     this.stateRef = stateRef;\n    this.createCustomMessage = createCustomMessage;*/\n  } //adds message to list of chatbot messages. used in all subsequent funcs\n\n\n}\n\nexport default ActionProvider;","map":{"version":3,"sources":["/home/lizz/spring2022/dfind/Senior-Design/frontend/src/components/Chatbot/ActionProvider.js"],"names":["Other","MoreOptions","ActionProvider","constructor","createChatBotMessage","setStateFunc","addMessageToState","message","setState","prevState","messages","handleInitialOptions","state","howManyQs","OtherQuestion","handleOther","widget","greet","handleConfusion","handleDocuments","handleOtherSetup","DocumentSearch","question","num","otherWidget","OtherOptions"],"mappings":"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","sourcesContent":["import Other from './OtherQandA/Other' \nimport MoreOptions from './MoreOptions/MoreOptions';\n//Action provider contains all the 'functions' of the chatbot\nclass ActionProvider {\n  constructor(\n    createChatBotMessage,\n    setStateFunc\n    /*createClientMessage,\n    stateRef\n    createCustomMessage,\n    ...rest*/\n  ) {\n    this.createChatBotMessage = createChatBotMessage;\n    this.setState = setStateFunc;\n    /*this.createClientMessage = createClientMessage;\n     this.stateRef = stateRef;\n    this.createCustomMessage = createCustomMessage;*/\n  }\n  //adds message to list of chatbot messages. used in all subsequent funcs\n  addMessageToState = (message) => {\n    this.setState((prevState) => ({\n      ...prevState,\n      messages: [...prevState.messages,message],\n    }));\n  };\n  //this shows the initial buttons we see \n  handleInitialOptions = () => {\n    this.setState((state) => ({\n      ...state,\n      howManyQs:0,\n      OtherQuestion: \"\",\n      handleOther:false\n    }))\n\n    this.addMessageToState(this.createChatBotMessage(\n      `What would you like to search next?`, {\n        widget:\"InitialOptions\"\n      }\n    ))\n  }\n  //function for being nice!\n  greet = () => {\n    const message = this.createChatBotMessage(\"Hello! :)\")\n    this.addMessageToState(message) //adds message to ui\n  }\n  \n  handleConfusion = () => {\n    const message = this.createChatBotMessage(\"Sorry, i did not catch that. Could you rephrase?\")\n    this.addMessageToState(message) //adds message to ui\n  }\n  //function to fetch docs\n  handleDocuments = () => {\n    const message = this.createChatBotMessage(\"docs not supported atm\")\n    this.addMessageToState(message) //adds message to ui\n  }\n\n  //function to setup 'other q and a' questions\n  handleOtherSetup = () => {\n    this.setState((state) => ({\n      ...state,\n      DocumentSearch:false,\n      OtherQuestion: \"\"\n    }))\n    const message = this.createChatBotMessage(\"Enter your question:\")\n    this.addMessageToState(message)\n  }\n\n  //function to fetch 'other q and a' questions based on user's query\n  handleOther = (question,num) => {\n    //console.log(\"num:\", num)\n    var message = this.createChatBotMessage(\"Results found:\",{ widget:\"Other\"})\n    this.addMessageToState(message)\n    //if handleOther is being called from a widget‚ it means the 'see more results' button was chosen.\n    var otherWidget  = \"MoreOptions\"\n    if (!num) {\n      num = 4\n      otherWidget = \"MoreResults\"\n    }\n    this.setState((state) => ({\n      ...state,\n      OtherOptions:true,\n      OtherQuestion:state.OtherQuestion +\" \" + question,\n      howManyQs:num\n     })\n    )\n   \n    message =  this.createChatBotMessage(\"Have I answered your question?\" , { widget:otherWidget })\n    this.addMessageToState(message)\n  }\n}\n\nexport default ActionProvider;\n"]},"metadata":{},"sourceType":"module"}